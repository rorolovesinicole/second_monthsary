<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 2nd Monthsary!</title>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
    <link rel="icon" href="./assets/2nd_monthsary_icon.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>

    <!-- ============================================= {CSS} ============================================= -->
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            background-color: #EDD8C6;
            font-family: 'Indie Flower', cursive;
        }

        #wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #title {
            font-size: 80px;
            margin-top: 40px;
            opacity: 0;
            animation: fadeIn 1s ease-in forwards;
        }

        #flower {
            height: 60%;
            width: auto;
            object-fit: contain;
            margin-top: 20px;
            opacity: 0;
            animation: fadeIn 1s ease-in 0.5s forwards;
            position: absolute;
            left: 50%;
            top: 48%;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }

        #messageBox {
            width: 80%; /* Increased from 70% */
            margin-top: auto;
            margin-bottom: 40px;
            padding: 20px 0;
            border-top: 1px solid black;
            border-bottom: 1px solid black;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            animation: fadeIn 1s ease-in 1s forwards;
            position: relative;
            min-height: 50px; /* Ensure minimum height */
        }


        #message {
            text-align: center;
            font-size: 24px;
            flex-grow: 1;
            width: 100%;
            max-width: 90%; /* Increased from 80% */
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 80px; /* Increased padding for arrows */
            box-sizing: border-box;
        }

        .message-container {
            width: 100%;
            text-align: center;
            line-height: 1.8; /* Increased line height */
            display: inline-block;
            position: relative;
            padding: 10px 0;
        }
        
        .text-wrapper {
            width: 100%;
            display: inline-block;
            white-space: normal;
            word-wrap: break-word;
            word-break: break-word;
            overflow-wrap: break-word;
            hyphens: none; /* Prevent hyphenation */
        }

        
        .letter {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px);
            white-space: normal; /* Changed from pre-wrap */
            margin: 0 0.8px; /* Slightly increased letter spacing */
        }

        /*  .letter.space {
                margin-right: 0.3em; /* Adjusted word spacing 
                display: inline-block;
                width: auto;
                height: auto;
        } */

        .letter.space {
            margin-right: 0.35em; /* Adjusted word spacing */
            display: inline-block;
            width: auto;
        }


        .arrow {
            font-size: 50px;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            transition: 0.1s;
            font-family: 'Zapf Dingbats' !important;
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            z-index: 2; /* Ensure arrows stay above text */
        }

        .arrow:hover {
            cursor: pointer;
        }

        #leftArrow {
            left: 20px; /* Adjusted position */
            transform: translateY(-50%) scaleX(-1);
        }

        #leftArrow:active {
            scale: 1.1;
        }

        #rightArrow {
            right: 20px; /* Adjusted position */
        }

        #rightArrow:active {
            scale: 1.1;
        }

        #counter {
            position: absolute;
            bottom: -25px;
            right: 0;
            font-size: 14px;
        }

        #date {
            position: absolute;
            bottom: -25px;
            left: 0;
            font-size: 14px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Large devices (desktops, less than 1200px) */
        @media (max-width: 1200px) {
            #title {
                font-size: 70px;
                margin-top: 30px;
            }
            #flower {
                height: 55%;
            }
        }

        /* Medium devices (tablets, less than 768px) */
        @media (max-width: 768px) {
            #title {
                font-size: 60px;
                margin-top: 80px;
            }
            #message {
                font-size: 20px;
                padding: 0 60px;
            }
            #flower {
                height: 50%;
                top: 45%;
            }
            .arrow {
                font-size: 40px;
            }
        }

        /* Small devices (large phones, less than 600px) */
        @media (max-width: 600px) {
            #title {
                font-size: 50px;
                margin-top: 60px;
            }
            #message {
                font-size: 18px;
                padding: 0 50px;
            }
            #flower {
                height: 45%;
            }
            .arrow {
                font-size: 35px;
            }
        }

        /* Extra small devices (phones, less than 480px) */
        @media (max-width: 480px) {
            #title {
                font-size: 40px;
                margin-top: 40px;
            }
            #message {
                font-size: 16px;
                padding: 0 40px;
            }
            #flower {
                height: 40%;
                top: 42%;
            }
            .arrow {
                font-size: 30px;
            }
            #messageBox {
                margin-bottom: 30px;
            }
            #date, #counter {
                font-size: 12px;
            }
        }

        /* Very small devices (small phones, less than 360px) */
        @media (max-width: 360px) {
            #title {
                font-size: 35px;
            }
            #message {
                font-size: 15px;
                padding: 0 30px;
            }
            #flower {
                height: 35%;
            }
            .arrow {
                font-size: 25px;
            }
        }

        /* Landscape orientation - for devices with height less than 500px */
        @media (max-height: 500px) and (orientation: landscape) {
            #title {
                font-size: 40px;
                margin-top: 20px;
            }
            #flower {
                height: 70%;
                top: 55%;
            }
            #messageBox {
                margin-bottom: 20px;
            }
            #message {
                font-size: 14px;
            }
        }

        /* Devices with short height (less than 600px) */
        @media (max-height: 600px) {
            #title {
                margin-top: 20px;
            }
            #flower {
                height: 50%;
            }
            #messageBox {
                margin-bottom: 30px;
            }
        }
    </style>
</head>

    <!-- ============================================={body} ============================================= -->
<body>

    <audio id="backgroundMusic" loop>
        <source src="./assets/Through The Years.mp3" type="audio/mpeg">
    </audio>

    <div id="wrapper">
        <div id="title">I love you</div>
        <img id="flower" src="./assets/sunflower.gif" alt="Sunflower">
        <div id="messageBox">
            <div id="leftArrow" class="arrow">⤷</div>
            <div id="message"></div>
            <div id="rightArrow" class="arrow">⤷</div>
            <div id="date"></div>
            <div id="counter"></div>
        </div>
    </div>
    
    <!-- ============================================= {CSS} ============================================= -->
    <script>

        // After your existing script, add:
        document.addEventListener('DOMContentLoaded', function() {
            const music = document.getElementById('backgroundMusic');
            
            // Function to play music
            function playMusic() {
                music.play().catch(function(error) {
                    console.log("Play failed:", error);
                });
            }

            // Play on first user interaction with the page
            document.body.addEventListener('click', function() {
                playMusic();
            }, { once: true }); // Remove listener after first click
        });

        const messages = [
            "click the arrow '⤷'",
            "Hiii, baby. Happy 2nd monthsary!",
            "The way you sometimes cut off the excitement when I’m planning a surprise for you",
            "bwahahahahahahahahaha, natatawa na lang ako—it lights up my day.",
            "Two months of your voice being my favorite sound. Let’s keep collecting these quiet moments.",
            "You’re my person—the one I want to tell about the weird leaf I saw on the sidewalk. Always.",
            "I don’t just love you; I love how you pause mid-sentence just to say you love me. Stay exactly you.",
            "Today’s a bookmark in our story. Can’t wait to reread every chapter with you.",
            "I used to hate mornings. Now I wake up excited to hear your 'ugh, coffee first' tsk tsk, grumbles.",
            "Two months in, and I’ve memorized how you tilt your head when you’re pretending not to cry during our fights.",
            "You’re my favorite 'good morning' and sakit sa ulo, hehe. Perfectly balance.",
            "I love us. Not in peysbuk missinjir version—the messy, inside-joke, forgetting-to-text-back version.",
            "Every time you say 'we,' I quietly add another star to my mental map of us.",
            "Two months of you teaching me patience. My turn to teach you…nothing, you’re perfect.",
            "I don’t need grand gestures. Just your hand in mine when we’re too tired to talk.",
            "Happy monthsary, babyyy!!",
            "Let’s promise to never plan too far ahead. I just want tomorrows with you, whatever they look like.",
            "If we ever get lost, I’ll follow the sound of your sigh when your phone dies. We’ll always find our way.",
            "Someday, we’ll look back and laugh at how stressed we were about this part. It’ll all make sense.",
            "Let’s grow at our own pace. Even if it’s two steps forward, one step into a puddle.",
            "I don’t need a 'forever plan.' Just your hand squeezing mine when the jeepneys crowded.",
            "We don’t have to figure it all out today. Let’s figure muna kung anong masarap na ulam para sa dinner.",
            "Whatever happens, promise we’ll still send each other toktik reels. Deal?",
            "Let’s make mistakes. Burn toast. Miss classes. As long as we’re laughing afterward.",
            "I’m not scared of hard days. I’m scared of days without your 'ugh, really?' eye-rolls.",
            "If the future feels heavy, let’s drop the map and wander. I’ll follow your lead.",
            "We don’t need a 'big picture.' Just keep adding tiny brushstrokes with me.",
            "Let’s never let plans steal the joy of right now. Right now is pretty great.",
            "I’ll never ask you to be ready. Just be here, in whatever messy way you are today.",
            "Our future isn’t a checklist. It’s the way you hum off-key while doing dishes (kunyari naghuhugas sha).",
            "We’ll build this like mismatched Legos—awkwardly, but it’ll hold.",
            "Drink water. Not because I said so, but because I need your dramatic gasps during stories hydrated, lol.",
            "Sleep. Even if it’s 3 AM and you’re deep-diving into cat videos??? my gosh, just…eventually.",
            "Eat. The world needs your 'hangry' rants about people who take the last snack.",
            "Walk. Even if it’s papunta lang kina Amec. Movement = victory.",
            "Breathe. Inhale the chaos, exhale the 'I’ll deal with it tomorrow.' Repeat.",
            "Cry if you need to. I’ll hold the tissues (and not mention your post-cry hiccups). Promise. Hindi ko yan gagamitin sau.",
            "Rest isn’t lazy. It’s rebooting so you can out-sass sassy sissy the world again tomorrow.",
            "Your 'I’m fine' face is masterful. But let it crumble when you need to. I’ll catch the pieces.",
            "Take the damn break. The world can wait. Your couch blanket can’t.",
            "Your mental health isn’t a chore to fix. It’s a garden—let’s water it, weeds and all.",
            "You don’t have to earn rest. It’s yours. Steal it like the last slice of cake.",
            "Tell your brain to shut up sometimes. I’ll back you up with terrible punch.",
            "If today’s victory is brushing your teeth, I’ll high-five you. No scale needed. 5/5--;",
            "Your body isn’t a project. It’s the home where your wild, wonderful soul lives.",
            "Bring me your messy, unfiltered thoughts. I don’t want polished—I want you.",
            "Your rants are my favorite podcasts. Never apologize for the episodes.",
            "If you hide your storms, I’ll miss the chance to be your umbrella. Let me get wet.",
            "You think your pain is a burden. It’s not—it’s a bridge. Let me cross it with you.",
            "I don’t need you to be okay. I need you to be honest. Even if it’s ugly.",
            "Your silence worries me more than your chaos. Break it with me, always.",
            "When you’re drowning in your head, scream. I’ll dive in, no life jacket needed.",
            "I’m not scared of your dark days. I’m scared of you facing them alone.",
            "Your tears aren’t a weakness. They’re proof you care deeply. Let me care for you.",
            "If you think you’re 'too much,' come here. I’ve got room for all your 'muchness.'",
            "Don’t shrink your feelings to fit my comfort. I want them raw, wild, and true.",
            "You’re not ruining the mood. You’re letting me in. That’s all I ever want.",
            "I’d choose your messy truths over easy lies any day. Always.",
            "Your pain isn’t a solo journey. Let me carry the map, sayo na ang flashlights, sakin ang snacks.",
            "However heavy it gets—my arms, my ears, my heart are yours. Always.",
            "Happy second monthsary, love!",
            "I LOVE YOU!!!",
            "END."
        ];


        let currentIndex = 0;
        const message = document.getElementById('message');
        const leftArrow = document.getElementById('leftArrow');
        const rightArrow = document.getElementById('rightArrow');
        const counter = document.getElementById('counter');
        const date = document.getElementById('date');

        function createLetterSpans(text) {
            const words = text.split(' ');
            const spans = [];
            
            words.forEach((word, wordIndex) => {
                // Create a wrapper for each word to prevent breaking
                const wordWrapper = document.createElement('span');
                wordWrapper.style.display = 'inline-block';
                wordWrapper.style.whiteSpace = 'nowrap';
                
                // Handle each letter in the word
                const letterSpans = word.split('').map(char => {
                    const span = document.createElement('span');
                    span.className = 'letter';
                    span.textContent = char;
                    return span;
                });
        
        letterSpans.forEach(span => wordWrapper.appendChild(span));
        spans.push(wordWrapper);
        
        // Add space after each word (except the last)
        if (wordIndex < words.length - 1) {
            const spaceSpan = document.createElement('span');
            spaceSpan.className = 'letter space';
            spaceSpan.innerHTML = '&nbsp;';
            spans.push(spaceSpan);
        }
    });
    
    return spans;
}

function updateMessage(direction = 'right') {
    message.innerHTML = '';
    
    // Create container for better text wrapping
    const textContainer = document.createElement('div');
    textContainer.className = 'message-container';
    
    // Create wrapper for the text
    const textWrapper = document.createElement('div');
    textWrapper.className = 'text-wrapper';
    
    const letterSpans = createLetterSpans(messages[currentIndex]);
    letterSpans.forEach(span => textWrapper.appendChild(span));
    
    textContainer.appendChild(textWrapper);
    message.appendChild(textContainer);
    
    // Update counter and date
    counter.textContent = `${currentIndex + 1}/${messages.length}`;
    const today = new Date();
    date.textContent = `${today.getMonth() + 1}/${today.getDate()}/${today.getFullYear()}`;
    
    // Animate letters
    animateLetters();  
}

function animateLetters() {
    anime.timeline({loop: false})
        .add({
            targets: '.letter',
            translateY: [20, 0],
            opacity: [0, 1],
            easing: "easeOutExpo",
            duration: 1200,
            delay: (el, i) => 25 * i,
            complete: function() {
                // Ensure proper final state
                document.querySelectorAll('.letter').forEach(letter => {
                    letter.style.opacity = '1';
                    letter.style.transform = 'translateY(0)';
                });
            }
        });
}

        leftArrow.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + messages.length) % messages.length;
            updateMessage('left');
        });

        rightArrow.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % messages.length;
            updateMessage('right');
        });

        // Initialize first message
        updateMessage();
    </script>
</body>
</html>
